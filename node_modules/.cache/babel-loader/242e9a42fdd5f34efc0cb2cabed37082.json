{"ast":null,"code":"var _jsxFileName = \"/Users/XiaojieZhou/CS122B/cs122b-fe3/src/pages/MovieDetail.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useUser } from \"hook/User\";\nimport styled from \"styled-components\";\nimport { useForm } from \"react-hook-form\";\nimport \"./Home.css\";\nimport { NavLink, useNavigate, useParams } from \"react-router-dom\";\nimport { searchByMovieId } from \"../backend/movies\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { cartInsert } from \"../backend/billing\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Button } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n_c = StyledDiv;\n\nconst MovieDetail = () => {\n  _s();\n\n  const {\n    accessToken,\n    setAccessToken,\n    refreshToken,\n    setRefreshToken\n  } = useUser();\n  const {\n    id\n  } = useParams();\n  const [post, setPost] = React.useState();\n  const navigate = useNavigate();\n  const {\n    register,\n    getValues,\n    handleSubmit\n  } = useForm();\n\n  const addToCart = () => {\n    const quantity = getValues(\"num\");\n    const payload = {\n      movieId: id,\n      quantity: quantity\n    };\n    cartInsert(payload, accessToken).then(response => {\n      console.log(response);\n    }).catch(error => console.log(error.response));\n  };\n\n  React.useEffect(() => {\n    searchByMovieId(id, accessToken).then(response => {\n      console.log(response);\n      setPost(response.data);\n    }).catch(error => console.log(error.response.data));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(StyledDiv, {\n    children: [post && /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://image.tmdb.org/t/p/original\" + post.movie.posterPath,\n        alt: \"movie poster\",\n        width: \"400\",\n        height: \"500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: post.movie.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Year: \", post.movie.year]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Director: \", post.movie.director]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Rating: \", post.movie.rating]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"NumVotes: \", post.movie.numVotes]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Budget: \", post.movie.budget]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Revenue: \", post.movie.revenue]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Overview: \", post.movie.overview]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://image.tmdb.org/t/p/original\" + post.movie.backdropPath,\n        alt: \"movie poster\",\n        width: \"700\",\n        height: \"500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Genres\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this), post.genres && post.genres.map(genre => /*#__PURE__*/_jsxDEV(\"p\", {\n          children: genre.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 29\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Persons\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }, this), post.persons && post.persons.map(person => /*#__PURE__*/_jsxDEV(\"p\", {\n          children: person.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        style: {\n          width: \"50%\"\n        },\n        ...register(\"num\"),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"1\",\n          children: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"2\",\n          children: \"2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"3\",\n          children: \"3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"4\",\n          children: \"4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"5\",\n          children: \"5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"6\",\n          children: \"6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"7\",\n          children: \"7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"8\",\n          children: \"8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"9\",\n          children: \"9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"10\",\n          children: \"10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          width: \"50%\"\n        },\n        onClick: handleSubmit(addToCart),\n        children: \"Add to Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Price will be displayed in cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MovieDetail, \"vyCeyRbwfkidE0To464yx8AGe+M=\", false, function () {\n  return [useUser, useParams, useNavigate, useForm];\n});\n\n_c2 = MovieDetail;\nexport default MovieDetail;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"StyledDiv\");\n$RefreshReg$(_c2, \"MovieDetail\");","map":{"version":3,"sources":["/Users/XiaojieZhou/CS122B/cs122b-fe3/src/pages/MovieDetail.jsx"],"names":["React","useState","useUser","styled","useForm","NavLink","useNavigate","useParams","searchByMovieId","useSearchParams","cartInsert","Button","StyledDiv","div","MovieDetail","accessToken","setAccessToken","refreshToken","setRefreshToken","id","post","setPost","navigate","register","getValues","handleSubmit","addToCart","quantity","payload","movieId","then","response","console","log","catch","error","useEffect","data","movie","posterPath","title","year","director","rating","numVotes","budget","revenue","overview","backdropPath","genres","map","genre","name","persons","person","width"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport {useUser} from \"hook/User\";\nimport styled from \"styled-components\";\nimport {useForm} from \"react-hook-form\";\nimport \"./Home.css\"\nimport {NavLink, useNavigate, useParams} from \"react-router-dom\";\nimport {searchByMovieId} from \"../backend/movies\";\nimport {useSearchParams} from \"react-router-dom\";\nimport {cartInsert} from \"../backend/billing\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Button} from \"react-bootstrap\";\n\n\nconst StyledDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n`\n\nconst MovieDetail = () => {\n    const {\n        accessToken, setAccessToken,\n        refreshToken, setRefreshToken\n    } = useUser();\n\n    const {id} = useParams();\n    const [post,setPost] = React.useState();\n    const navigate = useNavigate();\n\n    const {register, getValues, handleSubmit} = useForm();\n\n    const addToCart = () =>{\n        const quantity = getValues(\"num\");\n\n        const payload ={\n            movieId: id,\n            quantity: quantity,\n        }\n        cartInsert(payload, accessToken)\n            .then(response => {\n                console.log(response)\n            })\n            .catch(error => console.log((error.response)))\n    }\n\n    React.useEffect(() => {\n        searchByMovieId(id, accessToken)\n            .then(response => {\n                console.log(response)\n                setPost(response.data)})\n            .catch(error => console.log(error.response.data));},[])\n\n    return (\n\n        <StyledDiv>\n            {post &&\n                <React.Fragment>\n                    <img src={\"https://image.tmdb.org/t/p/original\" + post.movie.posterPath} alt=\"movie poster\"\n                         width=\"400\" height=\"500\"/>\n\n                    <h1>{post.movie.title}</h1>\n                    <p>Year: {post.movie.year}</p>\n                    <p>Director: {post.movie.director}</p>\n                    <p>Rating: {post.movie.rating}</p>\n                    <p>NumVotes: {post.movie.numVotes}</p>\n                    <p>Budget: {post.movie.budget}</p>\n                    <p>Revenue: {post.movie.revenue}</p>\n                    <p>Overview: {post.movie.overview}</p>\n                    <img src={\"https://image.tmdb.org/t/p/original\" + post.movie.backdropPath} alt=\"movie poster\"\n                         width=\"700\" height=\"500\"/>\n                    <div>\n                        <h1>Genres</h1>\n                        {post.genres && post.genres.map(genre =>\n                            <p>{genre.name}</p>\n                        )}\n                    </div>\n                    <div>\n                        <h1>Persons</h1>\n                        {post.persons && post.persons.map(person =>\n                            <p>{person.name}</p>\n                        )}\n                    </div>\n\n                </React.Fragment>\n            }\n                <div>\n                <select style={{width: \"50%\"}}  {...register(\"num\")}>\n                <option value=\"1\">1</option>\n                <option value=\"2\">2</option>\n                <option value=\"3\">3</option>\n                <option value=\"4\">4</option>\n                <option value=\"5\">5</option>\n                <option value=\"6\">6</option>\n                <option value=\"7\">7</option>\n                <option value=\"8\">8</option>\n                <option value=\"9\">9</option>\n                <option value=\"10\">10</option>\n                </select>\n                <Button style={{width: \"50%\"}} onClick={handleSubmit(addToCart)}>Add to Cart</Button>\n                <p>Price will be displayed in cart</p>\n\n                </div>\n\n        </StyledDiv>\n    );\n}\n\nexport default MovieDetail;\n"]},"metadata":{},"sourceType":"module"}