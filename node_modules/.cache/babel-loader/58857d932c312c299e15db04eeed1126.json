{"ast":null,"code":"import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar usePrevious = function usePrevious(value) {\n  var ref = React.useRef(value);\n  React.useEffect(function () {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n};\n\nvar isUnknownObject = function isUnknownObject(raw) {\n  return raw !== null && _typeof(raw) === 'object';\n};\n\nvar isPromise = function isPromise(raw) {\n  return isUnknownObject(raw) && typeof raw.then === 'function';\n}; // We are using types to enforce the `stripe` prop in this lib,\n// but in an untyped integration `stripe` could be anything, so we need\n// to do some sanity validation to prevent type errors.\n\n\nvar isStripe = function isStripe(raw) {\n  return isUnknownObject(raw) && typeof raw.elements === 'function' && typeof raw.createToken === 'function' && typeof raw.createPaymentMethod === 'function' && typeof raw.confirmCardPayment === 'function';\n};\n\nvar PLAIN_OBJECT_STR = '[object Object]';\n\nvar isEqual = function isEqual(left, right) {\n  if (!isUnknownObject(left) || !isUnknownObject(right)) {\n    return left === right;\n  }\n\n  var leftArray = Array.isArray(left);\n  var rightArray = Array.isArray(right);\n  if (leftArray !== rightArray) return false;\n  var leftPlainObject = Object.prototype.toString.call(left) === PLAIN_OBJECT_STR;\n  var rightPlainObject = Object.prototype.toString.call(right) === PLAIN_OBJECT_STR;\n  if (leftPlainObject !== rightPlainObject) return false; // not sure what sort of special object this is (regexp is one option), so\n  // fallback to reference check.\n\n  if (!leftPlainObject && !leftArray) return left === right;\n  var leftKeys = Object.keys(left);\n  var rightKeys = Object.keys(right);\n  if (leftKeys.length !== rightKeys.length) return false;\n  var keySet = {};\n\n  for (var i = 0; i < leftKeys.length; i += 1) {\n    keySet[leftKeys[i]] = true;\n  }\n\n  for (var _i = 0; _i < rightKeys.length; _i += 1) {\n    keySet[rightKeys[_i]] = true;\n  }\n\n  var allKeys = Object.keys(keySet);\n\n  if (allKeys.length !== leftKeys.length) {\n    return false;\n  }\n\n  var l = left;\n  var r = right;\n\n  var pred = function pred(key) {\n    return isEqual(l[key], r[key]);\n  };\n\n  return allKeys.every(pred);\n};\n\nvar extractAllowedOptionsUpdates = function extractAllowedOptionsUpdates(options, prevOptions, immutableKeys) {\n  if (!isUnknownObject(options)) {\n    return null;\n  }\n\n  return Object.keys(options).reduce(function (newOptions, key) {\n    var isUpdated = !isUnknownObject(prevOptions) || !isEqual(options[key], prevOptions[key]);\n\n    if (immutableKeys.includes(key)) {\n      if (isUpdated) {\n        console.warn(\"Unsupported prop change: options.\".concat(key, \" is not a mutable property.\"));\n      }\n\n      return newOptions;\n    }\n\n    if (!isUpdated) {\n      return newOptions;\n    }\n\n    return _objectSpread2(_objectSpread2({}, newOptions || {}), {}, _defineProperty({}, key, options[key]));\n  }, null);\n};\n\nvar INVALID_STRIPE_ERROR = 'Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.'; // We are using types to enforce the `stripe` prop in this lib, but in a real\n// integration `stripe` could be anything, so we need to do some sanity\n// validation to prevent type errors.\n\nvar validateStripe = function validateStripe(maybeStripe) {\n  if (maybeStripe === null || isStripe(maybeStripe)) {\n    return maybeStripe;\n  }\n\n  throw new Error(INVALID_STRIPE_ERROR);\n};\n\nvar parseStripeProp = function parseStripeProp(raw) {\n  if (isPromise(raw)) {\n    return {\n      tag: 'async',\n      stripePromise: Promise.resolve(raw).then(validateStripe)\n    };\n  }\n\n  var stripe = validateStripe(raw);\n\n  if (stripe === null) {\n    return {\n      tag: 'empty'\n    };\n  }\n\n  return {\n    tag: 'sync',\n    stripe: stripe\n  };\n};\n\nvar ElementsContext = /*#__PURE__*/React.createContext(null);\nElementsContext.displayName = 'ElementsContext';\n\nvar parseElementsContext = function parseElementsContext(ctx, useCase) {\n  if (!ctx) {\n    throw new Error(\"Could not find Elements context; You need to wrap the part of your app that \".concat(useCase, \" in an <Elements> provider.\"));\n  }\n\n  return ctx;\n};\n/**\n * The `Elements` provider allows you to use [Element components](https://stripe.com/docs/stripe-js/react#element-components) and access the [Stripe object](https://stripe.com/docs/js/initializing) in any nested component.\n * Render an `Elements` provider at the root of your React app so that it is available everywhere you need it.\n *\n * To use the `Elements` provider, call `loadStripe` from `@stripe/stripe-js` with your publishable key.\n * The `loadStripe` function will asynchronously load the Stripe.js script and initialize a `Stripe` object.\n * Pass the returned `Promise` to `Elements`.\n *\n * @docs https://stripe.com/docs/stripe-js/react#elements-provider\n */\n\n\nvar Elements = function Elements(_ref) {\n  var rawStripeProp = _ref.stripe,\n      options = _ref.options,\n      children = _ref.children;\n\n  var _final = React.useRef(false);\n\n  var isMounted = React.useRef(true);\n  var parsed = React.useMemo(function () {\n    return parseStripeProp(rawStripeProp);\n  }, [rawStripeProp]);\n\n  var _React$useState = React.useState(function () {\n    return {\n      stripe: null,\n      elements: null\n    };\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      ctx = _React$useState2[0],\n      setContext = _React$useState2[1];\n\n  var prevStripe = usePrevious(rawStripeProp);\n\n  if (prevStripe !== null) {\n    if (prevStripe !== rawStripeProp) {\n      console.warn('Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.');\n    }\n  }\n\n  if (!_final.current) {\n    if (parsed.tag === 'sync') {\n      _final.current = true;\n      setContext({\n        stripe: parsed.stripe,\n        elements: parsed.stripe.elements(options)\n      });\n    }\n\n    if (parsed.tag === 'async') {\n      _final.current = true;\n      parsed.stripePromise.then(function (stripe) {\n        if (stripe && isMounted.current) {\n          // Only update Elements context if the component is still mounted\n          // and stripe is not null. We allow stripe to be null to make\n          // handling SSR easier.\n          setContext({\n            stripe: stripe,\n            elements: stripe.elements(options)\n          });\n        }\n      });\n    }\n  }\n\n  var prevOptions = usePrevious(options);\n  React.useEffect(function () {\n    if (!ctx.elements) {\n      return;\n    }\n\n    var updates = extractAllowedOptionsUpdates(options, prevOptions, ['clientSecret', 'fonts']);\n\n    if (updates) {\n      ctx.elements.update(updates);\n    }\n  }, [options, prevOptions, ctx.elements]);\n  React.useEffect(function () {\n    return function () {\n      isMounted.current = false;\n    };\n  }, []);\n  React.useEffect(function () {\n    var anyStripe = ctx.stripe;\n\n    if (!anyStripe || !anyStripe._registerWrapper || !anyStripe.registerAppInfo) {\n      return;\n    }\n\n    anyStripe._registerWrapper({\n      name: 'react-stripe-js',\n      version: \"1.7.1\"\n    });\n\n    anyStripe.registerAppInfo({\n      name: 'react-stripe-js',\n      version: \"1.7.1\",\n      url: 'https://stripe.com/docs/stripe-js/react'\n    });\n  }, [ctx.stripe]);\n  return /*#__PURE__*/React.createElement(ElementsContext.Provider, {\n    value: ctx\n  }, children);\n};\n\nElements.propTypes = {\n  stripe: PropTypes.any,\n  options: PropTypes.object\n};\n\nvar useElementsContextWithUseCase = function useElementsContextWithUseCase(useCaseMessage) {\n  var ctx = React.useContext(ElementsContext);\n  return parseElementsContext(ctx, useCaseMessage);\n};\n/**\n * @docs https://stripe.com/docs/stripe-js/react#useelements-hook\n */\n\n\nvar useElements = function useElements() {\n  var _useElementsContextWi = useElementsContextWithUseCase('calls useElements()'),\n      elements = _useElementsContextWi.elements;\n\n  return elements;\n};\n/**\n * @docs https://stripe.com/docs/stripe-js/react#usestripe-hook\n */\n\n\nvar useStripe = function useStripe() {\n  var _useElementsContextWi2 = useElementsContextWithUseCase('calls useStripe()'),\n      stripe = _useElementsContextWi2.stripe;\n\n  return stripe;\n};\n/**\n * @docs https://stripe.com/docs/stripe-js/react#elements-consumer\n */\n\n\nvar ElementsConsumer = function ElementsConsumer(_ref2) {\n  var children = _ref2.children;\n  var ctx = useElementsContextWithUseCase('mounts <ElementsConsumer>'); // Assert to satisfy the busted React.FC return type (it should be ReactNode)\n\n  return children(ctx);\n};\n\nElementsConsumer.propTypes = {\n  children: PropTypes.func.isRequired\n};\n\nvar useCallbackReference = function useCallbackReference(cb) {\n  var ref = React.useRef(cb);\n  React.useEffect(function () {\n    ref.current = cb;\n  }, [cb]);\n  return function () {\n    if (ref.current) {\n      ref.current.apply(ref, arguments);\n    }\n  };\n};\n\nvar noop = function noop() {};\n\nvar capitalized = function capitalized(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n};\n\nvar createElementComponent = function createElementComponent(type, isServer) {\n  var displayName = \"\".concat(capitalized(type), \"Element\");\n\n  var ClientElement = function ClientElement(_ref) {\n    var id = _ref.id,\n        className = _ref.className,\n        _ref$options = _ref.options,\n        options = _ref$options === void 0 ? {} : _ref$options,\n        _ref$onBlur = _ref.onBlur,\n        onBlur = _ref$onBlur === void 0 ? noop : _ref$onBlur,\n        _ref$onFocus = _ref.onFocus,\n        onFocus = _ref$onFocus === void 0 ? noop : _ref$onFocus,\n        _ref$onReady = _ref.onReady,\n        onReady = _ref$onReady === void 0 ? noop : _ref$onReady,\n        _ref$onChange = _ref.onChange,\n        onChange = _ref$onChange === void 0 ? noop : _ref$onChange,\n        _ref$onEscape = _ref.onEscape,\n        onEscape = _ref$onEscape === void 0 ? noop : _ref$onEscape,\n        _ref$onClick = _ref.onClick,\n        onClick = _ref$onClick === void 0 ? noop : _ref$onClick;\n\n    var _useElementsContextWi = useElementsContextWithUseCase(\"mounts <\".concat(displayName, \">\")),\n        elements = _useElementsContextWi.elements;\n\n    var elementRef = React.useRef(null);\n    var domNode = React.useRef(null);\n    var callOnReady = useCallbackReference(onReady);\n    var callOnBlur = useCallbackReference(onBlur);\n    var callOnFocus = useCallbackReference(onFocus);\n    var callOnClick = useCallbackReference(onClick);\n    var callOnChange = useCallbackReference(onChange);\n    var callOnEscape = useCallbackReference(onEscape);\n    React.useLayoutEffect(function () {\n      if (elementRef.current == null && elements && domNode.current != null) {\n        var element = elements.create(type, options);\n        elementRef.current = element;\n        element.mount(domNode.current);\n        element.on('ready', function () {\n          return callOnReady(element);\n        });\n        element.on('change', callOnChange);\n        element.on('blur', callOnBlur);\n        element.on('focus', callOnFocus);\n        element.on('escape', callOnEscape); // Users can pass an onClick prop on any Element component\n        // just as they could listen for the `click` event on any Element,\n        // but only the PaymentRequestButton will actually trigger the event.\n\n        element.on('click', callOnClick);\n      }\n    });\n    var prevOptions = usePrevious(options);\n    React.useEffect(function () {\n      if (!elementRef.current) {\n        return;\n      }\n\n      var updates = extractAllowedOptionsUpdates(options, prevOptions, ['paymentRequest']);\n\n      if (updates) {\n        elementRef.current.update(updates);\n      }\n    }, [options, prevOptions]);\n    React.useLayoutEffect(function () {\n      return function () {\n        if (elementRef.current) {\n          elementRef.current.destroy();\n        }\n      };\n    }, []);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: id,\n      className: className,\n      ref: domNode\n    });\n  }; // Only render the Element wrapper in a server environment.\n\n\n  var ServerElement = function ServerElement(props) {\n    // Validate that we are in the right context by calling useElementsContextWithUseCase.\n    useElementsContextWithUseCase(\"mounts <\".concat(displayName, \">\"));\n    var id = props.id,\n        className = props.className;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: id,\n      className: className\n    });\n  };\n\n  var Element = isServer ? ServerElement : ClientElement;\n  Element.propTypes = {\n    id: PropTypes.string,\n    className: PropTypes.string,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    onFocus: PropTypes.func,\n    onReady: PropTypes.func,\n    onClick: PropTypes.func,\n    options: PropTypes.object\n  };\n  Element.displayName = displayName;\n  Element.__elementType = type;\n  return Element;\n};\n\nvar isServer = typeof window === 'undefined';\n/**\n * Requires beta access:\n * Contact [Stripe support](https://support.stripe.com/) for more information.\n *\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar AuBankAccountElement = createElementComponent('auBankAccount', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar CardElement = createElementComponent('card', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar CardNumberElement = createElementComponent('cardNumber', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar CardExpiryElement = createElementComponent('cardExpiry', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar CardCvcElement = createElementComponent('cardCvc', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar FpxBankElement = createElementComponent('fpxBank', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar IbanElement = createElementComponent('iban', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar IdealBankElement = createElementComponent('idealBank', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar P24BankElement = createElementComponent('p24Bank', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar EpsBankElement = createElementComponent('epsBank', isServer);\nvar PaymentElement = createElementComponent('payment', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar PaymentRequestButtonElement = createElementComponent('paymentRequestButton', isServer);\n/**\n * Requires beta access:\n * Contact [Stripe support](https://support.stripe.com/) for more information.\n *\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar LinkAuthenticationElement = createElementComponent('linkAuthentication', isServer);\n/**\n * Requires beta access:\n * Contact [Stripe support](https://support.stripe.com/) for more information.\n *\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar ShippingAddressElement = createElementComponent('shippingAddress', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar AffirmMessageElement = createElementComponent('affirmMessage', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar AfterpayClearpayMessageElement = createElementComponent('afterpayClearpayMessage', isServer);\nexport { AffirmMessageElement, AfterpayClearpayMessageElement, AuBankAccountElement, CardCvcElement, CardElement, CardExpiryElement, CardNumberElement, Elements, ElementsConsumer, EpsBankElement, FpxBankElement, IbanElement, IdealBankElement, LinkAuthenticationElement, P24BankElement, PaymentElement, PaymentRequestButtonElement, ShippingAddressElement, useElements, useStripe };","map":{"version":3,"sources":["/Users/XiaojieZhou/CS122B/cs122b-fe3/node_modules/@stripe/react-stripe-js/dist/react-stripe.esm.js"],"names":["React","PropTypes","_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","Array","isArray","_arr","_n","_d","_e","undefined","_i","_s","next","done","err","o","minLen","_arrayLikeToArray","n","toString","call","slice","name","from","test","len","arr2","TypeError","usePrevious","ref","useRef","useEffect","current","isUnknownObject","raw","isPromise","then","isStripe","elements","createToken","createPaymentMethod","confirmCardPayment","PLAIN_OBJECT_STR","isEqual","left","right","leftArray","rightArray","leftPlainObject","rightPlainObject","leftKeys","rightKeys","keySet","allKeys","l","r","pred","every","extractAllowedOptionsUpdates","options","prevOptions","immutableKeys","reduce","newOptions","isUpdated","includes","console","warn","concat","INVALID_STRIPE_ERROR","validateStripe","maybeStripe","Error","parseStripeProp","tag","stripePromise","Promise","resolve","stripe","ElementsContext","createContext","displayName","parseElementsContext","ctx","useCase","Elements","_ref","rawStripeProp","children","_final","isMounted","parsed","useMemo","_React$useState","useState","_React$useState2","setContext","prevStripe","updates","update","anyStripe","_registerWrapper","registerAppInfo","version","url","createElement","Provider","propTypes","any","useElementsContextWithUseCase","useCaseMessage","useContext","useElements","_useElementsContextWi","useStripe","_useElementsContextWi2","ElementsConsumer","_ref2","func","isRequired","useCallbackReference","cb","noop","capitalized","str","charAt","toUpperCase","createElementComponent","type","isServer","ClientElement","id","className","_ref$options","_ref$onBlur","onBlur","_ref$onFocus","onFocus","_ref$onReady","onReady","_ref$onChange","onChange","_ref$onEscape","onEscape","_ref$onClick","onClick","elementRef","domNode","callOnReady","callOnBlur","callOnFocus","callOnClick","callOnChange","callOnEscape","useLayoutEffect","element","create","mount","on","destroy","ServerElement","props","Element","string","__elementType","window","AuBankAccountElement","CardElement","CardNumberElement","CardExpiryElement","CardCvcElement","FpxBankElement","IbanElement","IdealBankElement","P24BankElement","EpsBankElement","PaymentElement","PaymentRequestButtonElement","LinkAuthenticationElement","ShippingAddressElement","AffirmMessageElement","AfterpayClearpayMessageElement"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar usePrevious = function usePrevious(value) {\n  var ref = React.useRef(value);\n  React.useEffect(function () {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n};\n\nvar isUnknownObject = function isUnknownObject(raw) {\n  return raw !== null && _typeof(raw) === 'object';\n};\nvar isPromise = function isPromise(raw) {\n  return isUnknownObject(raw) && typeof raw.then === 'function';\n}; // We are using types to enforce the `stripe` prop in this lib,\n// but in an untyped integration `stripe` could be anything, so we need\n// to do some sanity validation to prevent type errors.\n\nvar isStripe = function isStripe(raw) {\n  return isUnknownObject(raw) && typeof raw.elements === 'function' && typeof raw.createToken === 'function' && typeof raw.createPaymentMethod === 'function' && typeof raw.confirmCardPayment === 'function';\n};\n\nvar PLAIN_OBJECT_STR = '[object Object]';\nvar isEqual = function isEqual(left, right) {\n  if (!isUnknownObject(left) || !isUnknownObject(right)) {\n    return left === right;\n  }\n\n  var leftArray = Array.isArray(left);\n  var rightArray = Array.isArray(right);\n  if (leftArray !== rightArray) return false;\n  var leftPlainObject = Object.prototype.toString.call(left) === PLAIN_OBJECT_STR;\n  var rightPlainObject = Object.prototype.toString.call(right) === PLAIN_OBJECT_STR;\n  if (leftPlainObject !== rightPlainObject) return false; // not sure what sort of special object this is (regexp is one option), so\n  // fallback to reference check.\n\n  if (!leftPlainObject && !leftArray) return left === right;\n  var leftKeys = Object.keys(left);\n  var rightKeys = Object.keys(right);\n  if (leftKeys.length !== rightKeys.length) return false;\n  var keySet = {};\n\n  for (var i = 0; i < leftKeys.length; i += 1) {\n    keySet[leftKeys[i]] = true;\n  }\n\n  for (var _i = 0; _i < rightKeys.length; _i += 1) {\n    keySet[rightKeys[_i]] = true;\n  }\n\n  var allKeys = Object.keys(keySet);\n\n  if (allKeys.length !== leftKeys.length) {\n    return false;\n  }\n\n  var l = left;\n  var r = right;\n\n  var pred = function pred(key) {\n    return isEqual(l[key], r[key]);\n  };\n\n  return allKeys.every(pred);\n};\n\nvar extractAllowedOptionsUpdates = function extractAllowedOptionsUpdates(options, prevOptions, immutableKeys) {\n  if (!isUnknownObject(options)) {\n    return null;\n  }\n\n  return Object.keys(options).reduce(function (newOptions, key) {\n    var isUpdated = !isUnknownObject(prevOptions) || !isEqual(options[key], prevOptions[key]);\n\n    if (immutableKeys.includes(key)) {\n      if (isUpdated) {\n        console.warn(\"Unsupported prop change: options.\".concat(key, \" is not a mutable property.\"));\n      }\n\n      return newOptions;\n    }\n\n    if (!isUpdated) {\n      return newOptions;\n    }\n\n    return _objectSpread2(_objectSpread2({}, newOptions || {}), {}, _defineProperty({}, key, options[key]));\n  }, null);\n};\n\nvar INVALID_STRIPE_ERROR = 'Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.'; // We are using types to enforce the `stripe` prop in this lib, but in a real\n// integration `stripe` could be anything, so we need to do some sanity\n// validation to prevent type errors.\n\nvar validateStripe = function validateStripe(maybeStripe) {\n  if (maybeStripe === null || isStripe(maybeStripe)) {\n    return maybeStripe;\n  }\n\n  throw new Error(INVALID_STRIPE_ERROR);\n};\n\nvar parseStripeProp = function parseStripeProp(raw) {\n  if (isPromise(raw)) {\n    return {\n      tag: 'async',\n      stripePromise: Promise.resolve(raw).then(validateStripe)\n    };\n  }\n\n  var stripe = validateStripe(raw);\n\n  if (stripe === null) {\n    return {\n      tag: 'empty'\n    };\n  }\n\n  return {\n    tag: 'sync',\n    stripe: stripe\n  };\n};\n\nvar ElementsContext = /*#__PURE__*/React.createContext(null);\nElementsContext.displayName = 'ElementsContext';\nvar parseElementsContext = function parseElementsContext(ctx, useCase) {\n  if (!ctx) {\n    throw new Error(\"Could not find Elements context; You need to wrap the part of your app that \".concat(useCase, \" in an <Elements> provider.\"));\n  }\n\n  return ctx;\n};\n/**\n * The `Elements` provider allows you to use [Element components](https://stripe.com/docs/stripe-js/react#element-components) and access the [Stripe object](https://stripe.com/docs/js/initializing) in any nested component.\n * Render an `Elements` provider at the root of your React app so that it is available everywhere you need it.\n *\n * To use the `Elements` provider, call `loadStripe` from `@stripe/stripe-js` with your publishable key.\n * The `loadStripe` function will asynchronously load the Stripe.js script and initialize a `Stripe` object.\n * Pass the returned `Promise` to `Elements`.\n *\n * @docs https://stripe.com/docs/stripe-js/react#elements-provider\n */\n\nvar Elements = function Elements(_ref) {\n  var rawStripeProp = _ref.stripe,\n      options = _ref.options,\n      children = _ref.children;\n\n  var _final = React.useRef(false);\n\n  var isMounted = React.useRef(true);\n  var parsed = React.useMemo(function () {\n    return parseStripeProp(rawStripeProp);\n  }, [rawStripeProp]);\n\n  var _React$useState = React.useState(function () {\n    return {\n      stripe: null,\n      elements: null\n    };\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      ctx = _React$useState2[0],\n      setContext = _React$useState2[1];\n\n  var prevStripe = usePrevious(rawStripeProp);\n\n  if (prevStripe !== null) {\n    if (prevStripe !== rawStripeProp) {\n      console.warn('Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.');\n    }\n  }\n\n  if (!_final.current) {\n    if (parsed.tag === 'sync') {\n      _final.current = true;\n      setContext({\n        stripe: parsed.stripe,\n        elements: parsed.stripe.elements(options)\n      });\n    }\n\n    if (parsed.tag === 'async') {\n      _final.current = true;\n      parsed.stripePromise.then(function (stripe) {\n        if (stripe && isMounted.current) {\n          // Only update Elements context if the component is still mounted\n          // and stripe is not null. We allow stripe to be null to make\n          // handling SSR easier.\n          setContext({\n            stripe: stripe,\n            elements: stripe.elements(options)\n          });\n        }\n      });\n    }\n  }\n\n  var prevOptions = usePrevious(options);\n  React.useEffect(function () {\n    if (!ctx.elements) {\n      return;\n    }\n\n    var updates = extractAllowedOptionsUpdates(options, prevOptions, ['clientSecret', 'fonts']);\n\n    if (updates) {\n      ctx.elements.update(updates);\n    }\n  }, [options, prevOptions, ctx.elements]);\n  React.useEffect(function () {\n    return function () {\n      isMounted.current = false;\n    };\n  }, []);\n  React.useEffect(function () {\n    var anyStripe = ctx.stripe;\n\n    if (!anyStripe || !anyStripe._registerWrapper || !anyStripe.registerAppInfo) {\n      return;\n    }\n\n    anyStripe._registerWrapper({\n      name: 'react-stripe-js',\n      version: \"1.7.1\"\n    });\n\n    anyStripe.registerAppInfo({\n      name: 'react-stripe-js',\n      version: \"1.7.1\",\n      url: 'https://stripe.com/docs/stripe-js/react'\n    });\n  }, [ctx.stripe]);\n  return /*#__PURE__*/React.createElement(ElementsContext.Provider, {\n    value: ctx\n  }, children);\n};\nElements.propTypes = {\n  stripe: PropTypes.any,\n  options: PropTypes.object\n};\nvar useElementsContextWithUseCase = function useElementsContextWithUseCase(useCaseMessage) {\n  var ctx = React.useContext(ElementsContext);\n  return parseElementsContext(ctx, useCaseMessage);\n};\n/**\n * @docs https://stripe.com/docs/stripe-js/react#useelements-hook\n */\n\nvar useElements = function useElements() {\n  var _useElementsContextWi = useElementsContextWithUseCase('calls useElements()'),\n      elements = _useElementsContextWi.elements;\n\n  return elements;\n};\n/**\n * @docs https://stripe.com/docs/stripe-js/react#usestripe-hook\n */\n\nvar useStripe = function useStripe() {\n  var _useElementsContextWi2 = useElementsContextWithUseCase('calls useStripe()'),\n      stripe = _useElementsContextWi2.stripe;\n\n  return stripe;\n};\n/**\n * @docs https://stripe.com/docs/stripe-js/react#elements-consumer\n */\n\nvar ElementsConsumer = function ElementsConsumer(_ref2) {\n  var children = _ref2.children;\n  var ctx = useElementsContextWithUseCase('mounts <ElementsConsumer>'); // Assert to satisfy the busted React.FC return type (it should be ReactNode)\n\n  return children(ctx);\n};\nElementsConsumer.propTypes = {\n  children: PropTypes.func.isRequired\n};\n\nvar useCallbackReference = function useCallbackReference(cb) {\n  var ref = React.useRef(cb);\n  React.useEffect(function () {\n    ref.current = cb;\n  }, [cb]);\n  return function () {\n    if (ref.current) {\n      ref.current.apply(ref, arguments);\n    }\n  };\n};\n\nvar noop = function noop() {};\n\nvar capitalized = function capitalized(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n};\n\nvar createElementComponent = function createElementComponent(type, isServer) {\n  var displayName = \"\".concat(capitalized(type), \"Element\");\n\n  var ClientElement = function ClientElement(_ref) {\n    var id = _ref.id,\n        className = _ref.className,\n        _ref$options = _ref.options,\n        options = _ref$options === void 0 ? {} : _ref$options,\n        _ref$onBlur = _ref.onBlur,\n        onBlur = _ref$onBlur === void 0 ? noop : _ref$onBlur,\n        _ref$onFocus = _ref.onFocus,\n        onFocus = _ref$onFocus === void 0 ? noop : _ref$onFocus,\n        _ref$onReady = _ref.onReady,\n        onReady = _ref$onReady === void 0 ? noop : _ref$onReady,\n        _ref$onChange = _ref.onChange,\n        onChange = _ref$onChange === void 0 ? noop : _ref$onChange,\n        _ref$onEscape = _ref.onEscape,\n        onEscape = _ref$onEscape === void 0 ? noop : _ref$onEscape,\n        _ref$onClick = _ref.onClick,\n        onClick = _ref$onClick === void 0 ? noop : _ref$onClick;\n\n    var _useElementsContextWi = useElementsContextWithUseCase(\"mounts <\".concat(displayName, \">\")),\n        elements = _useElementsContextWi.elements;\n\n    var elementRef = React.useRef(null);\n    var domNode = React.useRef(null);\n    var callOnReady = useCallbackReference(onReady);\n    var callOnBlur = useCallbackReference(onBlur);\n    var callOnFocus = useCallbackReference(onFocus);\n    var callOnClick = useCallbackReference(onClick);\n    var callOnChange = useCallbackReference(onChange);\n    var callOnEscape = useCallbackReference(onEscape);\n    React.useLayoutEffect(function () {\n      if (elementRef.current == null && elements && domNode.current != null) {\n        var element = elements.create(type, options);\n        elementRef.current = element;\n        element.mount(domNode.current);\n        element.on('ready', function () {\n          return callOnReady(element);\n        });\n        element.on('change', callOnChange);\n        element.on('blur', callOnBlur);\n        element.on('focus', callOnFocus);\n        element.on('escape', callOnEscape); // Users can pass an onClick prop on any Element component\n        // just as they could listen for the `click` event on any Element,\n        // but only the PaymentRequestButton will actually trigger the event.\n\n        element.on('click', callOnClick);\n      }\n    });\n    var prevOptions = usePrevious(options);\n    React.useEffect(function () {\n      if (!elementRef.current) {\n        return;\n      }\n\n      var updates = extractAllowedOptionsUpdates(options, prevOptions, ['paymentRequest']);\n\n      if (updates) {\n        elementRef.current.update(updates);\n      }\n    }, [options, prevOptions]);\n    React.useLayoutEffect(function () {\n      return function () {\n        if (elementRef.current) {\n          elementRef.current.destroy();\n        }\n      };\n    }, []);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: id,\n      className: className,\n      ref: domNode\n    });\n  }; // Only render the Element wrapper in a server environment.\n\n\n  var ServerElement = function ServerElement(props) {\n    // Validate that we are in the right context by calling useElementsContextWithUseCase.\n    useElementsContextWithUseCase(\"mounts <\".concat(displayName, \">\"));\n    var id = props.id,\n        className = props.className;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: id,\n      className: className\n    });\n  };\n\n  var Element = isServer ? ServerElement : ClientElement;\n  Element.propTypes = {\n    id: PropTypes.string,\n    className: PropTypes.string,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    onFocus: PropTypes.func,\n    onReady: PropTypes.func,\n    onClick: PropTypes.func,\n    options: PropTypes.object\n  };\n  Element.displayName = displayName;\n  Element.__elementType = type;\n  return Element;\n};\n\nvar isServer = typeof window === 'undefined';\n/**\n * Requires beta access:\n * Contact [Stripe support](https://support.stripe.com/) for more information.\n *\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar AuBankAccountElement = createElementComponent('auBankAccount', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar CardElement = createElementComponent('card', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar CardNumberElement = createElementComponent('cardNumber', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar CardExpiryElement = createElementComponent('cardExpiry', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar CardCvcElement = createElementComponent('cardCvc', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar FpxBankElement = createElementComponent('fpxBank', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar IbanElement = createElementComponent('iban', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar IdealBankElement = createElementComponent('idealBank', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar P24BankElement = createElementComponent('p24Bank', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar EpsBankElement = createElementComponent('epsBank', isServer);\nvar PaymentElement = createElementComponent('payment', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar PaymentRequestButtonElement = createElementComponent('paymentRequestButton', isServer);\n/**\n * Requires beta access:\n * Contact [Stripe support](https://support.stripe.com/) for more information.\n *\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar LinkAuthenticationElement = createElementComponent('linkAuthentication', isServer);\n/**\n * Requires beta access:\n * Contact [Stripe support](https://support.stripe.com/) for more information.\n *\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar ShippingAddressElement = createElementComponent('shippingAddress', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar AffirmMessageElement = createElementComponent('affirmMessage', isServer);\n/**\n * @docs https://stripe.com/docs/stripe-js/react#element-components\n */\n\nvar AfterpayClearpayMessageElement = createElementComponent('afterpayClearpayMessage', isServer);\n\nexport { AffirmMessageElement, AfterpayClearpayMessageElement, AuBankAccountElement, CardCvcElement, CardElement, CardExpiryElement, CardNumberElement, Elements, ElementsConsumer, EpsBankElement, FpxBankElement, IbanElement, IdealBankElement, LinkAuthenticationElement, P24BankElement, PaymentElement, PaymentRequestButtonElement, ShippingAddressElement, useElements, useStripe };\n"]},"metadata":{},"sourceType":"module"}