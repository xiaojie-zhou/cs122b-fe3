{"ast":null,"code":"var _jsxFileName = \"/Users/XiaojieZhou/CS122B/cs122b-fe3/src/pages/Checkout.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport CheckoutForm from \"./CheckoutForm\";\nimport { orderPayment } from \"../backend/billing\";\nimport { useUser } from \"../hook/User\"; // Make sure to call loadStripe outside of a component’s render to avoid\n// recreating the Stripe object on every render.\n// This is a public sample test API key.\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe(\"pk_test_51KwEtaLfLrIwjzSxRr7N0IQ58haObrkJEuctn24gQTbZUCPfyFLCOTD2pEPNoEn6WZIBhpPxw0Vav0x5liZ35jFk00fKFe0PaL\");\nexport default function Checkout() {\n  _s();\n\n  const {\n    accessToken,\n    setAccessToken,\n    refreshToken,\n    setRefreshToken\n  } = useUser();\n  const [clientSecret, setClientSecret] = useState(\"\");\n  useEffect(() => {\n    orderPayment(accessToken).then(response => setClientSecret(response.data.clientSecret)).catch(error => console.log(error.response));\n  }, []);\n  const appearance = {\n    theme: 'stripe'\n  };\n  const options = {\n    clientSecret,\n    appearance\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: clientSecret && /*#__PURE__*/_jsxDEV(Elements, {\n      options: options,\n      stripe: stripePromise,\n      children: /*#__PURE__*/_jsxDEV(CheckoutForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Checkout, \"azBC1WWcILv4Zfq1gqEd8OuLKAM=\", false, function () {\n  return [useUser];\n});\n\n_c = Checkout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"sources":["/Users/XiaojieZhou/CS122B/cs122b-fe3/src/pages/Checkout.jsx"],"names":["React","useState","useEffect","loadStripe","Elements","CheckoutForm","orderPayment","useUser","stripePromise","Checkout","accessToken","setAccessToken","refreshToken","setRefreshToken","clientSecret","setClientSecret","then","response","data","catch","error","console","log","appearance","theme","options"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,SAASC,QAAT,QAAyB,yBAAzB;AAEA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAAQC,YAAR,QAA2B,oBAA3B;AACA,SAAQC,OAAR,QAAsB,cAAtB,C,CAIA;AACA;AACA;;;AAEA,MAAMC,aAAa,GAAGL,UAAU,CAAC,6GAAD,CAAhC;AAEA,eAAe,SAASM,QAAT,GAAoB;AAAA;;AAC/B,QAAM;AACFC,IAAAA,WADE;AACWC,IAAAA,cADX;AAEFC,IAAAA,YAFE;AAEYC,IAAAA;AAFZ,MAGFN,OAAO,EAHX;AAIA,QAAM,CAACO,YAAD,EAAeC,eAAf,IAAkCd,QAAQ,CAAC,EAAD,CAAhD;AAEAC,EAAAA,SAAS,CAAC,MAAM;AAACI,IAAAA,YAAY,CAACI,WAAD,CAAZ,CACZM,IADY,CACPC,QAAQ,IAAIF,eAAe,CAACE,QAAQ,CAACC,IAAT,CAAcJ,YAAf,CADpB,EAEZK,KAFY,CAENC,KAAK,IAAEC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACH,QAAlB,CAFD;AAE8B,GAFtC,EAEuC,EAFvC,CAAT;AAIA,QAAMM,UAAU,GAAG;AACfC,IAAAA,KAAK,EAAE;AADQ,GAAnB;AAGA,QAAMC,OAAO,GAAG;AACZX,IAAAA,YADY;AAEZS,IAAAA;AAFY,GAAhB;AAKA,sBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,cACKT,YAAY,iBACT,QAAC,QAAD;AAAU,MAAA,OAAO,EAAEW,OAAnB;AAA4B,MAAA,MAAM,EAAEjB,aAApC;AAAA,6BACI,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAFR;AAAA;AAAA;AAAA;AAAA,UADJ;AASH;;GA5BuBC,Q;UAIhBF,O;;;KAJgBE,Q","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\n\nimport CheckoutForm from \"./CheckoutForm\";\nimport {orderPayment} from \"../backend/billing\";\nimport {useUser} from \"../hook/User\";\n\n\n\n// Make sure to call loadStripe outside of a component’s render to avoid\n// recreating the Stripe object on every render.\n// This is a public sample test API key.\n\nconst stripePromise = loadStripe(\"pk_test_51KwEtaLfLrIwjzSxRr7N0IQ58haObrkJEuctn24gQTbZUCPfyFLCOTD2pEPNoEn6WZIBhpPxw0Vav0x5liZ35jFk00fKFe0PaL\");\n\nexport default function Checkout() {\n    const {\n        accessToken, setAccessToken,\n        refreshToken, setRefreshToken\n    } = useUser();\n    const [clientSecret, setClientSecret] = useState(\"\");\n\n    useEffect(() => {orderPayment(accessToken)\n        .then(response => setClientSecret(response.data.clientSecret))\n        .catch(error=>console.log(error.response))},[]);\n\n    const appearance = {\n        theme: 'stripe',\n    };\n    const options = {\n        clientSecret,\n        appearance,\n    };\n\n    return (\n        <div className=\"App\">\n            {clientSecret && (\n                <Elements options={options} stripe={stripePromise}>\n                    <CheckoutForm />\n                </Elements>\n            )}\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}